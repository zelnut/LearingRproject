## ---- fig.align = "center",echo=FALSE,out.width="90%",warning=FALSE-----------------------------------------------------------------------------------------
library(knitr)
include_graphics("./figure/fig9.png")



## ---- fig.align = "center",echo=FALSE,out.width="90%"-------------------------------------------------------------------------------------------------------
library(knitr)
include_graphics("./figure/fig10.png")



## ---- fig.align = "center",echo=FALSE,out.width="80%"-------------------------------------------------------------------------------------------------------

include_graphics("./figure/fig22.png")



## ---- fig.align = "center",echo=FALSE,out.width="80%"-------------------------------------------------------------------------------------------------------

include_graphics("./figure/fig26.jpg")



## ---- fig.align = "center",echo=FALSE,out.width="90%"-------------------------------------------------------------------------------------------------------

include_graphics("./figure/fig27.jpg")



## ---- fig.align = "center",echo=FALSE,out.width="90%"-------------------------------------------------------------------------------------------------------

include_graphics("./figure/fig29.png")



## ---- fig.align = "center",echo=FALSE,out.width="80%"-------------------------------------------------------------------------------------------------------
include_graphics("./figure/fig31.png")



## ---- fig.align = "center",echo=FALSE,out.width="80%"-------------------------------------------------------------------------------------------------------
include_graphics("./figure/fig35.png")



## ---- fig.align = "center",echo=FALSE,out.width="80%"-------------------------------------------------------------------------------------------------------
include_graphics("./figure/fig36.png")



## ---- fig.align = "center",echo=FALSE,out.width="90%"-------------------------------------------------------------------------------------------------------
include_graphics("./figure/fig34.png")



## ----warning=FALSE------------------------------------------------------------------------------------------------------------------------------------------
library(modeest)

mfv(c(1,2,1,2,3,3,3,4,5,4,5))

mfv(c(1,5,7,7,9,9,10))


## -----------------------------------------------------------------------------------------------------------------------------------------------------------
## nothing happen


## -----------------------------------------------------------------------------------------------------------------------------------------------------------
3+5
3/5


## -----------------------------------------------------------------------------------------------------------------------------------------------------------
x = 5; y <- 6 #;은 한 줄에 여러개의 명령어를 작성하여 실행할 수 있다.
sumxy <- x + y
(sn_exp <- sin(x) + exp(y))
#대소문자를 구분해야 함. 

library("ctv")
insatll.views("Economics")

library(ctv)
intsall.views("Economics")
install.views(“Econometrics”) #다시 물어보기

## -----------------------------------------------------------------------------------------------------------------------------------------------------------
is.numeric(10)
is.numeric('3')
is.numeric("3")
X<-c(T,F) #논리 데이터 - 명목형 변수인가?
is.logical(x)
x <- c(1,0)
is.logical(x)
as.logical(x)

x2 <- integer(10) #integer - 정수
is.integer(x2)
double(length = 0)
numeric(length = 0)

## -문자열----------------------------------------------------------------------------------------------------------------------------------------------------------
x4<- c("male", "female")
is.character(5)
is.character('5')
is.character("5")
is.infinite(-Inf)

0/0


## -----------------------------------------------------------------------------------------------------------------------------------------------------------
(x1 <- c(1, 3, 5, 7, 9))
x1

help(c)
# =, <- 같은 역할을 함. 

## -----------------------------------------------------------------------------------------------------------------------------------------------------------
x2 = seq(1, 9, 2) #수열임.
x2
x3 = rep(1, 10) #1을 10번 반복한다
x3
x4 = 1:10 #1~10까지 1씩 늘어나는 명령어, index 쓸 대 많이 사용됨.
x4
is.numeric(x4)
as.character(x4)

rep(3, 10)

?seq #help와 같은 명령어임.
?rep
## ---벡터는 characters를 저장할 수도 있다.--------------------------------------------------------------------------------------------------------------------------------------------------------
x5 = c('1', '2', '3')
x5
x6 = c('A', 'B', 'C')
x6


## -element-wise----------------------------------------------------------------------------------------------------------------------------------------------------------
x1 ^ 2 + 2 * x2 ^ 2 #같은 길이를 가졌는지 확인

length(x1)
length(x3)

#rm -> environment value 정리할 때
# ctrl + L : arrage console

## -----------------------------------------------------------------------------------------------------------------------------------------------------------
x1; x3
x1 + x3


## -----------------------------------------------------------------------------------------------------------------------------------------------------------
myvector <- c(8, 6, 9, 10, 5)
(mylist <- list(name = "Fred", wife = "Mary", myvector))
mylist

mylist2 = list(char = "a", nu1 = 123, nu2 = c(1:3))
mylist3 = list(mylist, mylist2)

#list는 명목, 수치, 실수 등 다양하게 저장 가능?

## -----------------------------------------------------------------------------------------------------------------------------------------------------------
myvector[5]
myvector[c(1:4)]

mylist[[2]] #list안의 특정 값을 불러오고 싶을 때 사용
mylist$wife #포괄적 의미의 vector의 저장소 
mylist[[3]]

mylist2$nu1


## --Table---------------------------------------------------------------------------------------------------------------------------------------------------------
mynames <- c("Mary", "John", "Ann", "Sinead", "Joe",
             "Mary", "Jim", "John", "Simon")
table(mynames)

myseq = c(1,2,3,3,4,3,3,3,4)
table(myseq)
is.character(myseq)

#table은 도수분포표를 만들어 주는 것
#범주형 변수, 

## -----------------------------------------------------------------------------------------------------------------------------------------------------------
mytable <- table(mynames) #table의 결과도 list이다.
mytable[[4]]
mytable[["John"]]


## --행렬---------------------------------------------------------------------------------------------------------------------------------------------------------
(mymatrix <- matrix(1:12, nrow = 4, ncol = 3))
mymatrix

?matrix
matrix(1:15,3,5,T)


## --ARRAY---------------------------------------------------------------------------------------------------------------------------------------------------------
myarray <- array(1:8, dim = c(2, 2, 2))
myarray

?dim
## ---- fig.align = "center",echo=FALSE,out.width="50%"-------------------------------------------------------------------------------------------------------
include_graphics("./figure/fig37.png")

myFamNames = c("dad", "Mom", "sIS", "bRO","dog")
myFamAges = c(43, 33, 12, 8, 4)
myFamGenders = c("m", "f", "f", "m", "f")
(myFamily = data.frame(myFamNames, myFamAges, myFamGenders))
#data frame: 자료임. 행렬 형식의 자료 의미함.
#행은 사례, 열은 변수 또는 속성을 나타낸다.
#첫 행은 변수 또는 속성의 이름을 담고 있다.(meta data)
#data frame은 결국 list의 한 종류이고


## ---- fig.align = "center",echo=FALSE,out.width="50%"-------------------------------------------------------------------------------------------------------
include_graphics("./figure/fig37.png")



## -----------------------------------------------------------------------------------------------------------------------------------------------------------
myFamNames = c("Dad", "Mom", "Sis", "Bro", "Dog")
myFamNames
myFamAges = c(43, 42, 12, 8, 5)
myFamGenders = c("Male","Female","Female","Male","Female")
myFamWeights = c(188, 136, 83, 61, 44)


## -----------------------------------------------------------------------------------------------------------------------------------------------------------
myFamily <- data.frame(myFamNames, myFamAges,
                       myFamGenders, myFamWeights)
myFamily


## -----------------------------------------------------------------------------------------------------------------------------------------------------------
str(myFamily)
myFamily$myFamAges


## -----------------------------------------------------------------------------------------------------------------------------------------------------------
myFamilyStr <- data.frame(myFamNames,
                          myFamAges,
                          myFamGenders,
                          myFamWeights,
                          stringsAsFactors = TRUE)

#

## -----------------------------------------------------------------------------------------------------------------------------------------------------------
str(myFamilyStr)
#내가 가진 자료의 형태를 clear하게 아는 것이 중요함. 



## -----------------------------------------------------------------------------------------------------------------------------------------------------------
summary(myFamily)


## -----------------------------------------------------------------------------------------------------------------------------------------------------------
myFamily$myFamAges


## -----------------------------------------------------------------------------------------------------------------------------------------------------------
mymatrix[1,2]
myFamily[2,]
myFamily[2:4,]
myFamily[seq(1,5,2),]


## -----------------------------------------------------------------------------------------------------------------------------------------------------------
myFamAges <- c(myFamAges, 11)
myFamAges
myFamily$myFamAges


## ----error=TRUE, tidy=TRUE, tidy.opts=list(width.cutoff=60)-------------------------------------------------------------------------------------------------
myFamily$myFamAges <- c(myFamily$myFamAges, 11)


## -----------------------------------------------------------------------------------------------------------------------------------------------------------
summary(iris)

iris
str(iris) ; summary(iris) 
View(iris)
head(iris) #선행하는 몇개의 case를 보여줌
tail(iris)
?head
head(3, n = 7L)

## -----------------------------------------------------------------------------------------------------------------------------------------------------------
str(iris) #가장 먼저 보는 것이 좋을 듯. 

as.numeric()


## -----------------------------------------------------------------------------------------------------------------------------------------------------------
head(iris)


## ---- indent = '   '----------------------------------------------------------------------------------------------------------------------------------------
apply(iris[, 1:4], 2, sum) #가장 좁은 의미
head(iris[,1:4])
apply(iris[,1:4], 2, sum)

## -----------------------------------------------------------------------------------------------------------------------------------------------------------
lapply(iris[, 1:4], mean) 


## -----------------------------------------------------------------------------------------------------------------------------------------------------------
sapply(iris[, 1:4], mean) #simplified lapply
?sapply


## -----------------------------------------------------------------------------------------------------------------------------------------------------------
myfn = function(x){x > 3}
myfn(x1)
iris[,1] >3

(y = sapply(iris[, 1:4], function(x){x > 3}) )
head(y, 3)


## -----------------------------------------------------------------------------------------------------------------------------------------------------------
levels(iris$Species)
tapply(iris$Sepal.Length, iris$Species, mean)

iris[1:5, 1:5]

head(iris)
levels(iris$Species)
?tapply

## -----------------------------------------------------------------------------------------------------------------------------------------------------------
byspecies <- split(iris, iris$Species)
str(byspecies)
mydata = byspecies$setosa

## -----------------------------------------------------------------------------------------------------------------------------------------------------------
setosa <- subset(iris, Species == "setosa")
head(setosa)
str(setosa)


x1 == 3

## -----------------------------------------------------------------------------------------------------------------------------------------------------------
colsel <- subset(iris, select = c(Sepal.Length, Species))
head(colsel)


## -----------------------------------------------------------------------------------------------------------------------------------------------------------
colsel <- subset(iris, select = -c(Sepal.Length, Species))
head(colsel)


## -----------------------------------------------------------------------------------------------------------------------------------------------------------
x <- c(20, 11, 33, 50, 47)
sort(x)
order(x)
x[order(x)]


## -----------------------------------------------------------------------------------------------------------------------------------------------------------
iris.ordered <- iris[order(iris$Sepal.Length), ]
head(iris.ordered)


## -----------------------------------------------------------------------------------------------------------------------------------------------------------
head(iris[order(iris$Sepal.Length , iris$Petal.Length), ])


## -----------------------------------------------------------------------------------------------------------------------------------------------------------
sample(1:10, 5) # 비복원추출 (중복 불허)
sample(1:10, 5, replace = TRUE) # 복원추출 (중복 허용)
iris.resample <- iris[sample(NROW(iris), NROW(iris)), ]
head(iris.resample, 5)


## -----------------------------------------------------------------------------------------------------------------------------------------------------------
aggregate(Sepal.Width  ~  Species,  iris, mean)

